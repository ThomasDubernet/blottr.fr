#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Auto-update knowledge base after each commit
if [ -f "scripts/update-knowledge-base.sh" ]; then
    echo "ğŸ“š Updating Knowledge Base..."
    bash scripts/update-knowledge-base.sh

    # Check if KB was updated
    if [ -n "$(git status --porcelain docs/architecture/KNOWLEDGE_BASE.md)" ]; then
        echo "ğŸ“ Knowledge Base updated with latest changes"
        git add docs/architecture/KNOWLEDGE_BASE.md
        git commit --amend --no-edit
    fi
fi