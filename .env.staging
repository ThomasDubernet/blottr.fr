# =================================================================
# STAGING ENVIRONMENT CONFIGURATION
# =================================================================
# This file contains staging environment variables for pre-production testing.

# =================================================================
# APPLICATION SETTINGS
# =================================================================
TZ=UTC
PORT=3333
HOST=0.0.0.0
LOG_LEVEL=info
APP_KEY=<STAGING_APP_KEY_32_CHARS>
NODE_ENV=staging

# =================================================================
# SESSION CONFIGURATION
# =================================================================
SESSION_DRIVER=cookie
SESSION_COOKIE_NAME=blottr_staging_session
SESSION_SECURE=true
SESSION_SAME_SITE=lax
SESSION_MAX_AGE=1d

# =================================================================
# DATABASE CONFIGURATION
# =================================================================
DB_HOST=<STAGING_DB_HOST>
DB_PORT=5432
DB_USER=<STAGING_DB_USER>
DB_PASSWORD=<STAGING_DB_PASSWORD>
DB_DATABASE=blottr_staging
DB_SSL=true
DB_CONNECTION_TIMEOUT=30000
DB_POOL_MIN=1
DB_POOL_MAX=10

# =================================================================
# REDIS CONFIGURATION
# =================================================================
REDIS_HOST=<STAGING_REDIS_HOST>
REDIS_PORT=6379
REDIS_PASSWORD=<STAGING_REDIS_PASSWORD>
REDIS_DB=1
REDIS_KEY_PREFIX=blottr:staging:

# =================================================================
# EMAIL CONFIGURATION (Test SMTP)
# =================================================================
MAIL_MAILER=smtp
SMTP_HOST=<STAGING_SMTP_HOST>
SMTP_PORT=587
SMTP_USERNAME=<STAGING_SMTP_USER>
SMTP_PASSWORD=<STAGING_SMTP_PASSWORD>
SMTP_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply+staging@blottr.fr
MAIL_FROM_NAME="Blottr Staging"

# =================================================================
# FILE STORAGE CONFIGURATION
# =================================================================
DRIVE_DISK=s3
AWS_ACCESS_KEY_ID=<STAGING_AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<STAGING_AWS_SECRET_KEY>
AWS_REGION=eu-west-3
AWS_BUCKET=blottr-staging-assets

# =================================================================
# SECURITY CONFIGURATION
# =================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_WINDOW_MS=900000

CORS_ENABLED=true
CORS_ORIGIN=https://staging.blottr.fr
CORS_CREDENTIALS=true

CSRF_ENABLED=true
HSTS_ENABLED=false
CSP_ENABLED=false

# =================================================================
# MONITORING & ANALYTICS
# =================================================================
APM_ENABLED=true
APM_SERVICE_NAME=blottr-api-staging
APM_ENVIRONMENT=staging

SENTRY_DSN=<STAGING_SENTRY_DSN>
SENTRY_ENVIRONMENT=staging

METRICS_ENABLED=true
HEALTH_CHECK_ENABLED=true

# =================================================================
# FEATURE FLAGS (Testing)
# =================================================================
FEATURE_CONTACT_FORMS=true
FEATURE_ARTIST_REGISTRATION=true
FEATURE_PAYMENT_PROCESSING=false
FEATURE_SOCIAL_LOGIN=true
FEATURE_ADVANCED_SEARCH=true

# =================================================================
# DEVELOPMENT HELPERS
# =================================================================
# Enable more verbose logging for debugging
DB_DEBUG=true
DB_SLOW_QUERY_THRESHOLD=500

# Shorter cache TTL for testing
CACHE_TTL=300