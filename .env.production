# =================================================================
# PRODUCTION ENVIRONMENT CONFIGURATION
# =================================================================
# This file contains production-ready environment variables.
# Copy to .env and update with actual production values.

# =================================================================
# APPLICATION SETTINGS
# =================================================================
TZ=UTC
PORT=3333
HOST=0.0.0.0
LOG_LEVEL=warn
APP_KEY=<GENERATE_STRONG_32_CHAR_KEY>
NODE_ENV=production

# =================================================================
# SESSION CONFIGURATION
# =================================================================
SESSION_DRIVER=cookie
SESSION_COOKIE_NAME=blottr_session
SESSION_SECURE=true
SESSION_SAME_SITE=strict
SESSION_MAX_AGE=7d

# =================================================================
# DATABASE CONFIGURATION (PostgreSQL Production)
# =================================================================
DB_HOST=<PRODUCTION_DB_HOST>
DB_PORT=5432
DB_USER=<PRODUCTION_DB_USER>
DB_PASSWORD=<PRODUCTION_DB_PASSWORD>
DB_DATABASE=blottr_production
DB_SSL=true
DB_CONNECTION_TIMEOUT=60000
DB_POOL_MIN=2
DB_POOL_MAX=20

# =================================================================
# REDIS CONFIGURATION (for caching and sessions)
# =================================================================
REDIS_HOST=<PRODUCTION_REDIS_HOST>
REDIS_PORT=6379
REDIS_PASSWORD=<PRODUCTION_REDIS_PASSWORD>
REDIS_DB=0
REDIS_KEY_PREFIX=blottr:

# =================================================================
# EMAIL CONFIGURATION (SMTP Production)
# =================================================================
MAIL_MAILER=smtp
SMTP_HOST=<PRODUCTION_SMTP_HOST>
SMTP_PORT=587
SMTP_USERNAME=<PRODUCTION_SMTP_USER>
SMTP_PASSWORD=<PRODUCTION_SMTP_PASSWORD>
SMTP_ENCRYPTION=tls
MAIL_FROM_ADDRESS=noreply@blottr.fr
MAIL_FROM_NAME="Blottr Platform"

# =================================================================
# FILE STORAGE CONFIGURATION
# =================================================================
DRIVE_DISK=s3
AWS_ACCESS_KEY_ID=<PRODUCTION_AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<PRODUCTION_AWS_SECRET_KEY>
AWS_REGION=eu-west-3
AWS_BUCKET=blottr-production-assets
AWS_ENDPOINT=<OPTIONAL_CDN_ENDPOINT>

# =================================================================
# SECURITY CONFIGURATION
# =================================================================
# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_STORE=redis
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# CORS Settings
CORS_ENABLED=true
CORS_ORIGIN=https://blottr.fr,https://www.blottr.fr
CORS_CREDENTIALS=true

# CSRF Protection
CSRF_ENABLED=true
CSRF_COOKIE_NAME=blottr_csrf
CSRF_HEADER_NAME=X-CSRF-TOKEN

# Security Headers
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
CSP_ENABLED=true

# =================================================================
# MONITORING & ANALYTICS
# =================================================================
# Application Performance Monitoring
APM_ENABLED=true
APM_SERVICE_NAME=blottr-api
APM_ENVIRONMENT=production

# Error Tracking
SENTRY_DSN=<PRODUCTION_SENTRY_DSN>
SENTRY_ENVIRONMENT=production
SENTRY_RELEASE=<GIT_COMMIT_SHA>

# Metrics Collection
METRICS_ENABLED=true
METRICS_ENDPOINT=/metrics
METRICS_BASIC_AUTH_USER=<METRICS_USER>
METRICS_BASIC_AUTH_PASSWORD=<METRICS_PASSWORD>

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_DATABASE=true
HEALTH_CHECK_REDIS=true
HEALTH_CHECK_STORAGE=true

# =================================================================
# CDN & ASSETS
# =================================================================
CDN_URL=https://cdn.blottr.fr
ASSET_VERSION=<BUILD_VERSION>
STATIC_ASSETS_CACHE_MAX_AGE=31536000

# =================================================================
# THIRD-PARTY INTEGRATIONS
# =================================================================
# Payment Processing
STRIPE_PUBLIC_KEY=<PRODUCTION_STRIPE_PUBLIC_KEY>
STRIPE_SECRET_KEY=<PRODUCTION_STRIPE_SECRET_KEY>
STRIPE_WEBHOOK_SECRET=<PRODUCTION_STRIPE_WEBHOOK_SECRET>

# Social Authentication
GOOGLE_CLIENT_ID=<PRODUCTION_GOOGLE_CLIENT_ID>
GOOGLE_CLIENT_SECRET=<PRODUCTION_GOOGLE_CLIENT_SECRET>

# Analytics
GOOGLE_ANALYTICS_ID=<PRODUCTION_GA_TRACKING_ID>

# =================================================================
# FEATURE FLAGS
# =================================================================
FEATURE_CONTACT_FORMS=true
FEATURE_ARTIST_REGISTRATION=true
FEATURE_PAYMENT_PROCESSING=false
FEATURE_SOCIAL_LOGIN=false
FEATURE_ADVANCED_SEARCH=true

# =================================================================
# PERFORMANCE TUNING
# =================================================================
# Node.js Performance
NODE_OPTIONS=--max-old-space-size=2048
UV_THREADPOOL_SIZE=128

# Application Caching
CACHE_DRIVER=redis
CACHE_TTL=3600
CACHE_PREFIX=blottr:cache:

# Database Query Optimization
DB_DEBUG=false
DB_SLOW_QUERY_THRESHOLD=1000

# =================================================================
# BACKUP & RECOVERY
# =================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=blottr-production-backups

# =================================================================
# LEGAL & COMPLIANCE
# =================================================================
GDPR_COMPLIANCE=true
DATA_RETENTION_PERIOD=2555
PRIVACY_POLICY_URL=https://blottr.fr/privacy
TERMS_OF_SERVICE_URL=https://blottr.fr/terms